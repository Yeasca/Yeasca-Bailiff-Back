<!DOCTYPE html>
<html ng-app>
<head>
    <meta charset="utf-8">
    <script type="text/javascript" src="../Content/Script/bootstrap-datepicker.js"></script>
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css">
    <script src="../Content/Script/main.js"></script>
    <script src="../Content/Script/jquery-1.10.2.min.js"></script>
    <script src="../Content/Script/jquery-ui.min.js"></script>
    <script src="../Content/Script/angular1.2.4.min.js"></script>
    <script src="../Content/Script/underscore-min.js"></script>
    <link rel="stylesheet" href="../Content/Css/bootstrap.min.css">
    <link rel="stylesheet" href="../Content/Css/main.css">
    <style>
        body {
            padding-top: 50px;
            padding-bottom: 20px;
        }
    </style>
</head>
<body>
<div class="navbar navbar-default navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">Yeasca Inc</a>
        </div>
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li><a href="index.html">Accueil</a></li>
                <li><a href="constats.html">Mes constats</a></li>
                <li class="active"><a href="application.html">Administration du bureau</a></li>
            </ul>
        </div><!--/.navbar-collapse -->
    </div>
</div>

<!-- Main jumbotron for a primary marketing message or call to action -->
<div class="jumbotron">
    <div class="container">
        <div class="row">
            <h2>Administration</h2>
            <div style="margin-left: -30px;" >
                <button type="button" class="btn btn-default  col-xs-12 col-sm-12 col-md-12 col-lg-12" onclick="AfficherListeClients()">
                    <span class="glyphicon glyphicon-circle-arrow-down"></span> Gérer fichiers clients
                </button><br>
                <button type="button" class="btn btn-default  col-xs-12 col-sm-12 col-md-12 col-lg-12" onclick="AfficherUtilisateurs()">
                    <span class="glyphicon glyphicon-circle-arrow-down"></span> Administration
                </button><br>

            </div>
        </div>
        <div class="row">
            <div id="fichierclient" style="display:none;margin-top:15px;">
                <h2>Liste des clients</h2>
                <div>
                    <button type="button" class="btn-client btn btn-default  col-xs-12 col-sm-12 col-md-12 col-lg-12" >
                        <span class="glyphicon glyphicon glyphicon-plus-sign"></span> Créer un client
                    </button>
                </div>
                <div class="CreationClient" style="display:none;margin-top:15px;">
                    <div id="messageCreationClient"></div>
                    <input id ="cli-creer-civ" type="text" class="form-control " placeholder="Civilité">
                    <input id ="cli-creer-nom" type="text" class="form-control " placeholder="Nom">
                    <input id ="cli-creer-pre" type="text" class="form-control " placeholder="Prénom">
                    <input id ="cli-creer-soc" type="text" class="form-control " placeholder="Société">
                    <input id ="cli-creer-numv" type="text" class="form-control " placeholder="Numéro voie">
                    <input id ="cli-creer-repv" type="text" class="form-control " placeholder="Répétition voie">
                    <input id ="cli-creer-typv" type="text" class="form-control " placeholder="Type voie">
                    <input id ="cli-creer-nomv" type="text" class="form-control " placeholder="Nom voie">
                    <input id ="cli-creer-cplv" type="text" class="form-control " placeholder="Complément voie">
                    <input id ="cli-creer-cp" type="text" class="form-control " placeholder="Code postal">
                    <input id ="cli-creer-vil" type="text" class="form-control " placeholder="Ville">

                    <button type="button" id="cli-creer-envoi" class="btn-ok btn btn-default  col-xs-5 col-sm-5 col-md-5 col-lg-5" style="float:right" onclick="CreationClient()">
                        <span class="glyphicon glyphicon glyphicon-plus-sign"></span> Valider
                    </button>
                    <button type="button" class="btn-return-client btn btn-default  col-xs-5 col-sm-5 col-md-5 col-lg-5" >
                        <span class="glyphicon glyphicon-chevron-left"></span> Retour
                    </button>
                </div>
                <div class="ModificationClient" style="display:none;margin-top:15px;">
                    <div id="messageModificationClient"></div>
                    <input id ="civiliteClientModification" type="text" class="form-control " placeholder="Civilité">
                    <input id ="nomClientModification" type="text" class="form-control " placeholder="Nom">
                    <input id ="prenomClientModification" type="text" class="form-control " placeholder="Prénom">
                    <input id ="numVoieClientModification" type="text" class="form-control " placeholder="Numéro voie">
                    <input id ="repetitionVoieClientModification" type="text" class="form-control " placeholder="Répétition voie">
                    <input id ="typeVoieClientModification" type="text" class="form-control " placeholder="Type voie">
                    <input id ="nomVoieClientModification" type="text" class="form-control " placeholder="Nom voie">
                    <input id ="complementVoieClientModification" type="text" class="form-control " placeholder="Complément voie">
                    <input id ="cpClientModification" type="text" class="form-control " placeholder="Code postal">
                    <input id ="bpClientModification" type="text" class="form-control " placeholder="Boite postale">
                    <input id ="villeClientModification" type="text" class="form-control " placeholder="Ville">

                    <button type="button" class="btn-ok btn btn-default  col-xs-5 col-sm-5 col-md-5 col-lg-5" style="float:right" onclick="ModificationClient()">
                        <span class="glyphicon glyphicon glyphicon-plus-sign"></span> Valider
                    </button>
                    <button type="button" class="btn-return-client btn btn-default  col-xs-5 col-sm-5 col-md-5 col-lg-5" >
                        <span class="glyphicon glyphicon-chevron-left"></span> Retour
                    </button>
                </div>
                <ul class="list-group">
                <div id="lesclients" class="row col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <div class="clientgeneral">

                    </div>
                    <script type="text/javascript">
                        </script>


                </div>
                </ul>
            </div>
        </div>
        <div class="row">
            <div id="utilisateurs" style="display:none;margin-top:15px;">
                <h2>Liste des Utilisateurs</h2>
                <button type="button" class="btn-user btn btn-default  col-xs-12 col-sm-12 col-md-12 col-lg-12" >
                    <span class="glyphicon glyphicon glyphicon-plus-sign"></span> Créer un utilisateur
                </button>
                <div class=" row col-xs-12 col-sm-12 col-md-12 col-lg-12" >
                    <div class="CreationUtilisateur" style="display:none;margin-top:15px;">
                        <div id="messageCreationUtilisateur"></div>
                        <select id="roleUtilisateurCreation" class="form-control">
                            <option>Secrétaire</option>
                            <option>Huissier</option>
                        </select>
                        <select id="civiliteUtilisateurCreation" class="form-control">
                            <option></option>
                            <option>M</option>
                            <option>Mme</option>
                            <option>Mlle</option>
                        </select>
                        <input id="nomUtilisateurCreation" type="text" class="form-control " placeholder="Nom">
                        <input id="prénomUtilisateurCreation" type="text" class="form-control " placeholder="Prénom">
                        <input id="emailUtilisateurCreation" type="email" class="form-control " placeholder="Email">
                        <input id="motDePasseUtilisateurCreation" type="password" class="form-control " placeholder="Mot de passe">


                        <button type="button" class="btn-ok btn btn-default  col-xs-5 col-sm-5 col-md-5 col-lg-5" style="float:right">
                            <span class="glyphicon glyphicon glyphicon-plus-sign" onclick="CreationUtilisateur()"></span> Valider
                        </button>
                        <button type="button" class="btn-return-user btn btn-default  col-xs-5 col-sm-5 col-md-5 col-lg-5" >
                            <span class="glyphicon glyphicon-chevron-left"></span> Retour
                        </button>
                    </div>
                    <div class="ModificationUtilisateur" style="display:none;margin-top:15px;">
                        <div id="messageModificationUtilisateur"></div>
                        <select id="roleUtilisateurModification" class="form-control">
                            <option>Secrétaire</option>
                            <option>Huissier</option>
                        </select>
                        <select id="civiliteUtilisateurModification" class="form-control">
                            <option></option>
                            <option>M</option>
                            <option>Mme</option>
                            <option>Mlle</option>
                        </select>
                        <input id="nomUtilisateurModification" type="text" class="form-control " placeholder="Nom">
                        <input id="prénomUtilisateurModification" type="text" class="form-control " placeholder="Prénom">
                        <input id="emailUtilisateurModification" type="email" class="form-control " placeholder="Email">
                        <input id="motDePasseUtilisateurModification" type="password" class="form-control " placeholder="Mot de passe">


                        <button type="button" class="btn-ok btn btn-default  col-xs-5 col-sm-5 col-md-5 col-lg-5" style="float:right">
                            <span class="glyphicon glyphicon glyphicon-plus-sign" onclick=""></span> Valider
                        </button>
                        <button type="button" class="btn-return-user btn btn-default  col-xs-5 col-sm-5 col-md-5 col-lg-5" >
                            <span class="glyphicon glyphicon-chevron-left"></span> Retour
                        </button>
                    </div>
                    <div id="lesusers" class="row col-xs-12 col-sm-12 col-md-12 col-lg-12">
                        <div class="usergeneral" ></div>


                    </div>
                </div>
            </div>
        </div>
      <!--  <div class="row">
            <div id="compte" style="display:none;margin-top:15px;">
                <div class="row col-xs-5 col-sm-5 col-md-5 col-lg-5" >
                    <input type="text" class="form-control " placeholder="Entrez le compte">
                    <select class="form-control">
                        <option>Secrétaire 1</option>
                        <option>Secrétaire 2</option>
                        <option>Secrétaire 3</option>
                        <option>Secrétaire 4</option>
                    </select>
                </div>
            </div>
        </div>-->
    </div>
</div>
<style>
    .usergeneral {
        cursor: pointer;
    }

    .Utilisateur {
        display: none;
        cursor: pointer;
    }
    .ModificationUtilisateur{
        display:none;
    }
    .clientgeneral {
        cursor: pointer;
    }

</style>
<script type="text/javascript">


    var offsetclient = $('.clientgeneral:last').offset();
    var offsetuser= $('.usergeneral:last').offset();
    var load=false;
    $(window).scroll(function(){
        offsetclient = $('.clientgeneral:last').offset();
        offsetuser= $('.usergeneral:last').offset();
        console.log(offsetuser.top-$(window).height()+' <='+$(window).scrollTop());
        if((offsetclient.top-$(window).height()<= $(window).scrollTop())&& load==false)
        {

            load=true;
            $('.loadmore').show();
            $.ajax({
            success:function(data){
                

                $('.loadmore').fadeOut(500);
            }

            });
            load=false;
        }
        if((offsetuser.top-$(window).height()<= $(window).scrollTop())&& load==false)
        {

            load=true;
            $('.loadmore').show();
            $.ajax({
                success:function(data){

                    $('.loadmore').fadeOut(500);
                }
            });
            load=false;
        }
    });
    $(function() {
        $(".btn-user").on("click", function() {
            $(".usergeneral").each(function(){
                $(this).slideUp(200);
            });
            $('.CreationUtilisateur').slideToggle(200);
        });
    });

    $('#cli-creer-envoi').click(function () {
        var données = {};
        données.Civilité = $('#cli-creer-civ').val();
        données.Nom = $('#cli-creer-nom').val();
        données.Prénom = $('#cli-creer-pre').val();
        données.DénominationSociété = $('#cli-creer-soc').val();
        données.NuméroVoie = $('#cli-creer-numv').val();
        données.RépétitionVoie = $('#cli-creer-repv').val();
        données.TypeVoie = $('#cli-creer-typv').val();
        données.NomVoie = $('#cli-creer-nomv').val();
        données.ComplémentVoie = $('#cli-creer-cplv').val();
        données.CodePostal = $('#cli-creer-cp').val();
        données.Ville = $('#cli-creer-vil').val();
        $.post('/Api/Client/Creer', données, function (réponse) {
            console.log(réponse);
        });
    });

    $(function() {
        $(".btn-client").on("click", function() {
            $(".clientgeneral").each(function(){
                $(this).slideUp(200);
            });
            $('.CreationClient').slideToggle(200);
        });
    });

    $(function() {
        $(".btn-return-user").on("click", function() {
            $(".usergeneral").each(function(){
                $(this).slideToggle(200);
            });
            $('.CreationUtilisateur').slideUp(200);
        });
    });
    $(function() {
        $(".btn-return-client").on("click", function() {
            $(".clientgeneral").each(function(){
                $(this).slideToggle(200);
            });
            $('.CreationClient').slideUp(200);
        });
    });
</script>



</body>
</html>